<Window x:Class="GvcRevitPlugins.TerrainCheck.UI.TerrainPluginInterface"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Verificação de Terreno" Height="600" Width="860"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="#f6f9fb"
        FontFamily="Segoe UI">
    <Grid Margin="10">
        <TabControl>
            <!-- Aba: Configurações -->
            <TabItem Header="Configurações">
                <Border BorderBrush="#CCC" BorderThickness="1" CornerRadius="10" Margin="10" Background="White" Padding="20">
                    <StackPanel HorizontalAlignment="Center" Width="340" VerticalAlignment="Center">

                        <TextBlock Text="Configurações de Análise" FontSize="18" FontWeight="Bold" Foreground="#2c3e50" Margin="0,0,0,10" TextAlignment="Center"/>

                        <!-- Campo: Altura do Muro -->
                        <StackPanel>
                            <TextBlock Text="Altura do Muro (m):" Foreground="#555" Margin="0,0,0,4"/>
                            <TextBox x:Name="WallHeightBox" Text="2.0" Height="28" Padding="4" BorderBrush="#CCC" BorderThickness="1"/>
                        </StackPanel>

                        <!-- Campo: Distância Mínima -->
                        <StackPanel>
                            <TextBlock Text="Distância Mínima (m):" Foreground="#555" Margin="10,8,0,4"/>
                            <TextBox x:Name="MinDistanceBox" Text="2.0" Height="28" Padding="4" BorderBrush="#CCC" BorderThickness="1"/>
                        </StackPanel>

                        <!-- Campo: Nível de Subdivisão -->
                        <StackPanel>
                            <TextBlock Text="Nível de Subdivisão:" Foreground="#555" Margin="10,8,0,4"/>
                            <TextBox x:Name="SubdivisionLevelBox" Text="10" Height="28" Padding="4" BorderBrush="#CCC" BorderThickness="1"/>
                        </StackPanel>

                        <Separator Margin="0,15"/>

                        <!-- Botões -->
                        <Button Content="1. Selecionar Platô" Click="SelectPlatform_Click" Height="38" Background="#e0ecf8" BorderBrush="#c0d3ea" BorderThickness="1"/>
                        <Button Content="2. Selecionar Divisa" Click="SelectBoundary_Click" Height="38" Background="#e0ecf8" BorderBrush="#c0d3ea" BorderThickness="1"/>
                        <Button Content="3. Selecionar Face do Edifício" Click="SelectBuildingFace_Click" Height="38" Background="#e0ecf8" BorderBrush="#c0d3ea" BorderThickness="1"/>

                        <TextBlock x:Name="StatusText" Margin="10,10,10,0" TextAlignment="Center"
                                   Foreground="#888" FontStyle="Italic" FontSize="13" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
            </TabItem>

            <!-- Aba: Resultados -->
            <TabItem Header="Resultados">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="41*"/>
                        <RowDefinition Height="8*"/>
                    </Grid.RowDefinitions>

                    <!-- Tabela -->
                    <DataGrid x:Name="ResultsGrid" AutoGenerateColumns="False" Grid.Row="0"
                              HeadersVisibility="Column" IsReadOnly="True" Margin="10,10,10,10">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Id" Binding="{Binding ID}" Width="*" />
                            <DataGridTextColumn Header="X" Binding="{Binding X}" Width="*" />
                            <DataGridTextColumn Header="Y" Binding="{Binding Y}" Width="*" />
                            <DataGridTextColumn Header="Altura¹" Binding="{Binding Height}" Width="*" />
                            <DataGridTextColumn Header="Distância Face-Divisa" Binding="{Binding DistanceFaceToBoundary}" Width="*" />
                            <DataGridTextColumn Header="Distância Arrimo-Divisa" Binding="{Binding DistanceSlopeToBoundary}" Width="*" />
                            <DataGridTextColumn Header="Resultado²" Binding="{Binding Result}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>

                    <Button Content="Exportar CSV" Click="Export_Click" Background="#e0ecf8" BorderBrush="#c0d3ea" BorderThickness="1" Margin="10,25,701,25" Grid.Row="2"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
